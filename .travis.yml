language: python
python:
  - "3.6"

branches:
  only:
    - master

script:
  - pip install --upgrade pip
  - cd ..
  - pip install generate_wiki
  - python -m generate_wiki sample-programs/archive

after_success:
  - git clone "https://${GITHUB_TOKEN}@github.com/${GITHUB_USERNAME}/sample-programs.wiki.git"
  - mv -v wiki/* sample-programs.wiki/
  - cd sample-programs.wiki
  - git add .
  - git commit -m "Generated Wiki via Travis-CI"
  - git push

notifications:
  email: false
